---
marp: true
math: mathjax
---

# åŸºæ–¼æ™‚åºå·ç©ç¶²è·¯ä¹‹å–®FMCWé›·é”æ‡‰ç”¨æ–¼éžæŽ¥è§¸å¼å³æ™‚ç”Ÿå‘½ç‰¹å¾µç›£æŽ§ 

---

## ç·’è«–

å¸‚é¢ä¸Šæœ‰è¨±å¤šç›£æ¸¬å¿ƒçŽ‡åŠå‘¼å¸çŽ‡çš„ç”¢å“ï¼Œä¾ç›£æ¸¬æ–¹å¼å¯åˆ†ç‚ºæŽ¥è§¸å¼åŠéžæŽ¥è§¸å¼å…©ç¨®ã€‚
æŽ¥è§¸å¼è£ç½®çš„ç²¾ç¢ºåº¦é€šå¸¸è¼ƒéžæŽ¥è§¸å¼ä¾†å¾—é«˜ï¼Œç„¶è€Œä¹Ÿæœƒæœ‰é•·æœŸç©¿æˆ´ä¸é©ç­‰å•é¡Œã€‚

#### æŽ¥è§¸å¼
- æ™ºæ…§æ‰‹éŒ¶/æ‰‹ç’°ã€å¤¾å¼è¡€æ°§å„€

#### éžæŽ¥è§¸å¼
- **ç„¡ç·šé›·é”**ã€é›·å°„æ¸¬è·å„€ã€ç†±æˆåƒæ”å½±

## æ­¤æ¬¡ç ”ç©¶ä½¿ç”¨çš„æ˜¯**èª¿é »é€£çºŒæ³¢(FMCW)é›·é”**

---

# å¿ƒçŽ‡/å‘¼å¸çŽ‡æå–æ–¹æ³•

---
- è³‡æ–™å‰è™•ç†
  1. FMCW é›·é” ->æ™‚åŸŸè¨Šè™Ÿ
  2. æ™‚åŸŸè¨Šè™Ÿ->Range FFT->é »åŸŸè¨Šè™Ÿ 
  3. é »åŸŸè¨Šè™Ÿ->éœæ…‹é›œæ³¢æ¿¾é™¤->å‹•æ…‹ç‰©é«”é »çŽ‡èˆ‡è·é›¢
  4. ç”¨æ‹é »è¨Šè™Ÿä¹‹ç›¸ä½å·®æå–å¿ƒçŽ‡åŠå‘¼å¸çŽ‡
- æ™‚åºå·ç©ç¶²è·¯
- Transformer Encoder
- Regressor

---

# èª¿é »é€£çºŒæ³¢é›·é” Frequency Modulated Continuous Waveform Radar

---

![FMCW](/slides/img/TCN/img4.png)

---

## é€£çºŒèª¿è®Šæ³¢

- æ‡‰ç”¨éŽ–ç›¸è¿´è·¯ï¼ˆPhase-Locked Loopï¼ŒPLLï¼‰ä½œç‚ºè¨Šè™Ÿç”¢ç”Ÿå™¨ã€‚
- é€éŽä¸æ–·èª¿æ•´ PLL è£¡çš„å£“æŽ§æŒ¯ç›ªå™¨(Voltage-Controlled Oscillator, VCO) çš„é »çŽ‡ä¾†ç”Ÿæˆé »çŽ‡é€£çºŒèª¿è®Šçš„ä¿¡è™Ÿ

---

![WAVE](/slides/img/TCN/img3.png)

---

## è¨Šè™Ÿè¡¨ç¤º

- ç™¼å°„è¨Šè™Ÿ:  $x_T(t) = A_T\cos(2\pi f_T(t)t + \Phi_T(t))$, $A_T$ç‚ºç™¼å°„çš„å‚³è¼¸èƒ½é‡å¤§å°
- æŽ¥æ”¶è¨Šè™Ÿ:  $x_R(t) = A_R\cos(2\pi f_R(t)t + \Phi_R(t))$, $A_R$ç‚ºæŽ¥æ”¶çš„å‚³è¼¸èƒ½é‡å¤§å°

#### æˆ‘å€‘å°‡ LNA åŠ å¼·å¾Œçš„è¨Šè™Ÿèˆ‡ç™¼å°„è¨Šè™Ÿåšæ··é »è™•ç†ï¼Œç¶“éŽæ··é »å¾Œçš„è¨Šè™Ÿç¨±ç‚ºæ‹é »è¨Šè™Ÿ

- æ‹é »è¨Šè™Ÿ: $x_T(t) \cdot x_R(t) = A_T\cos(2\pi f_T(t)t + \Phi_T(t)) \cdot A_R\cos(2\pi f_R(t)t + \Phi_R(t))$

#### å°‡æ··é »å®Œçš„è¨Šè™Ÿå–ä½Žé »éƒ¨åˆ†ï¼Œå³ç‚ºæˆ‘å€‘æ‰€éœ€çš„åŸºé »è¨Šè™Ÿ

- åŸºé »è¨Šè™Ÿ: 
  $$x(t) = \frac{1}{2}A_TA_R \cdot \cos (2\pi (f_T(t)-f_R(t))t + (\Phi_T(t) - \Phi_R(t)))$$
  $\qquad\qquad\quad\ = A\cos (2\pi f_b(t)t + \Phi_b(t)t)$. $\Phi_b$ç‚ºæ‹é »è¨Šè™Ÿç›¸ä½éš¨æ™‚é–“çš„è®ŠåŒ–

---

## æ•¸ä½è¨Šè™Ÿè™•ç†å™¨

**å°‡é¡žæ¯”è¨Šè™Ÿå–æ¨£ä¾†ç²å¾—æ•¸ä½è¨Šè™Ÿ**

- å–æ¨£è¡¨ç¤º
  $$x[n, m] = A\cos (2\pi f_b(nT_f+mT_s)nT_f + \Phi_b(nT_f+mT_s))$$

- $T_f$ å¿«é€Ÿæ™‚é–“ (Fast-time): é‡å°æ¯å€‹ chirp è£¡çš„æ™‚é–“åšå–æ¨£
- $T_s$ æ…¢é€Ÿæ™‚é–“ (Slow-time): é‡å°ä¸åŒ chrip ä¹‹é–“çš„æ™‚é–“é–“éš”åšå–æ¨£

---

## è·é›¢æŽ¨å°Ž

FMCW é›·é”ç™¼å°„è¨Šè™Ÿçš„é »çŽ‡æœƒéš¨è‘—æ™‚é–“è®ŠåŒ–ï¼Œå‡è¨­ä¸€å€‹ chirp çš„èµ·å§‹é »çŽ‡ç‚º$f_s$ã€æˆªæ­¢é »çŽ‡ç‚º$f_e$ã€é€±æœŸç‚º$T_s$ã€é »å¯¬ç‚º$B$ã€æ–œçŽ‡ç‚º$S$ï¼Œå‰‡å¯ä»¥è¡¨ç¤ºæˆä»¥ä¸‹å¼å­: 

- $B = F_e-F_s$
- $S = \frac{B}{T_s}$

æ¯«ç±³æ³¢ä»¥å…‰é€Ÿ$C$å‚³éžï¼Œå› æ­¤å¯ä»¥é€éŽå‰é¢å¾—åˆ°çš„æ‹é »è¨Šè™Ÿç¶“ç”±ä¸‹å¼æŽ¨å°Žå‡ºè·é›¢$d(t)$

- $t_d = \frac{2d(t)}{C}$
- $f_b = St_d = \frac{B}{T_s} \cdot \frac{2d(t)}{C}$

ä¸€ç¶­å¿«é€Ÿå‚…ç«‹è‘‰è½‰æ›å°‡å”åŠ©æˆ‘å€‘å–å¾—$f_b$, å¾žè€Œç®—å¾—$2d(t)$ã€‚

---

## ä¸€ç¶­å¿«é€Ÿå‚…ç«‹è‘‰è½‰æ› Range FFT

æˆ‘å€‘å¾—åˆ°ç¶“å–æ¨£éŽçš„æ‹é »è¨Šè™Ÿå¾Œï¼Œå°‡æ¯ä¸€å€‹å¿«é€Ÿæ™‚é–“å–æ¨£é»žåš Range FFTï¼Œç¶“éŽ FFT çš„è¡¨ç¤ºå¦‚ä¸‹:

$$X_m[K] = \sum^{N-1}_{n=0}x[n,m]e^{-j\frac{2\pi nk}{N}}, k = 0, ..., N-1$$

å…¶ä¸­ $K$ ç‚º FFT æŒ‡æ¨™(index)ï¼Œ$N$ ç‚ºæ¯å€‹ chirp è£¡çš„å–æ¨£æ•¸ã€‚ç•¶ç¬¬ $K$ å€‹é”åˆ°æœ€å¤§å€¼æ™‚ï¼Œå³å¯é€éŽè·é›¢åˆ†è¾¨çŽ‡æ›ç®—ç‰©é«”è·é›¢ã€‚å…¶æ›ç®—çš„å…¬å¼å¦‚ä¸‹:

$$d = \frac{t_d\cdot C}{2} = f_bT_c\cdot \frac{C}{2B}$$

å…¶ä¸­$C=3\times 10^8$ç‚ºå…‰é€Ÿï¼Œ$B$ç‚º chirp ä¹‹é »å¯¬ã€‚ $\frac{C}{2B}$å®šç¾©ç‚ºè·é›¢åˆ†è¾¨çŽ‡ã€‚

---

## éœæ…‹é›œæ³¢æ¿¾é™¤ Clutter removal

- åˆ©ç”¨å¹³æ»‘è™•ç†ä¾†æ¿¾å‡ºç’°å¢ƒä¸­çš„éœæ…‹èƒŒæ™¯ç‰©ä»¶
  
$$X'_m[k] = \sigma X_m[k]+ (1-\sigma )X_{m-1}[k], 0\leq \sigma \leq 1$$

- $\sigma$ç‚ºå¹³æ»‘ç³»æ•¸ï¼Œ$\sigma$è¶Šå¤§ï¼Œå¹³æ»‘æ•ˆæžœè¶Šå¥½ï¼Œä½†è¼ƒå¤šçš„ç›®æ¨™è¨Šè™Ÿä¹Ÿæœƒè¢«å¹³æ»‘æŽ‰ï¼›$\sigma$è¶Šå°ï¼Œå¹³æ»‘æ•ˆæžœè¶Šå·®ï¼Œè¼ƒå¤šçš„éœæ…‹é›œæ³¢æœƒè¢«ä¿ç•™ã€‚
- æœ€å¾Œï¼Œå°‡å¹³æ»‘è™•ç†å¾Œçš„éœæ…‹é›œæ³¢åœ–èˆ‡åŽŸæœ¬æœªç¶“è™•ç†çš„è¨Šè™Ÿç›¸æ¸›ï¼Œä¾¿èƒ½å¾—åˆ°æ¿¾é™¤éœæ…‹é›œæ³¢å¾Œçš„çµæžœã€‚å…¶è¡¨ç¤ºå¦‚ä¸‹:

$$Y_m[K] = X_m[k]-X'_m[k]$$

å¾žé€™äº›$Y_m[K]$æ‰¾å‡ºæœ€å¤§å€¼çš„é »çŽ‡ï¼ŒçµåˆæŽ¨å°Žçš„è·é›¢åˆ†è¾¨çŽ‡ä¾¿èƒ½è¨ˆç®—å‡ºç‰©é«”è·é›¢ï¼Œå…¶è¡¨ç¤ºå¦‚ä¸‹: 

$$k_{\max} = \arg_k\max |Y_m[K]|$$
$$d = f_bT_c\cdot \frac{C}{2B} = k_{\max}\cdot \frac{C}{2B}$$

---

## ç›¸ä½æå–

- æˆ‘å€‘å¯ä»¥å°‡æ‹é »è¨Šè™Ÿä»¥èƒ¸å£é‹å‹•æŒ¯å¹…è¡¨ç¤ºç‚ºä»¥ä¸‹ï¼š
$$x(t) = A\cos (2\pi f_b(t)t+\phi(t))$$
$$ = A\cos(2\pi(\frac{2B}{T_sC}\cdot (d_0+\Delta d(t)))t+(\phi_0+\Delta\phi(t)))$$
- å…¶ä¸­$d_0$åŠ$\phi_0$ç‚ºèƒ¸å£è·é›¢é›·é”çš„åˆå§‹ä½ç½®ç›¸ä½ï¼Œ$\Delta d(t)$åŠ$\Delta\phi(t)$ç‚ºå¿ƒè·³åŠå‘¼å¸è€Œé€ æˆçš„èƒ¸å£é‹å‹•æŒ¯å¹…èˆ‡ç›¸ä½ã€‚
- $\Delta d(t)$äº¦å¯è¡¨ç¤ºæˆä»¥ä¸‹ï¼š
$$\Delta d(t) = A_{hr}\sin(2\pi f_{hr}t)+A_{rr}\sin(2\pi f_{rr}t)$$
- å…¶ä¸­$A_{hr}, A_{rr}$åˆ†åˆ¥ç‚ºå¿ƒè·³åŠå‘¼å¸ä¹‹æŒ¯å¹…ï¼Œ$f_{hr},f_{rr}$åˆ†åˆ¥ç‚ºå¿ƒè·³åŠå‘¼å¸ä¹‹é »çŽ‡ã€‚

---

## ç›¸ä½è¨ˆç®— 

- é€éŽæ‹é »è¨Šè™Ÿçš„ç›¸ä½å·®ä¾†æå–å¿ƒè·³åŠå‘¼å¸é »çŽ‡ï¼š$\Delta\phi(t) = 4\pi\frac{\Delta d(t)}{\lambda}$
- å–å‡º$Y_m[k_{\max}]$ çš„å¯¦éƒ¨åŠè™›éƒ¨åš$\arctan$: $\phi_m =\arctan(\frac{Im(Y_m[k_{\max}])}{Re(Y_m[k_{\max}])})$
- è‹¥å…©å€‹é€£çºŒç›¸ä½å·®çš„çµæžœè¶…éŽ$-\pi$ ~ $\pi$ä¹‹é–“ï¼Œè£œä¸Š$-2\pi$~$2\pi$çš„è½å·®å€¼ï¼Œå°‡ç›¸ä½å·®ç¯„åœé™åˆ¶åœ¨$-\pi$ ~ $\pi$ä¹‹é–“ã€‚
$$
\phi_{b,m} =
\begin{cases}
\phi_m + 2\pi, & \phi_m - \phi_{m-1} > \pi \\
\phi_m - 2\pi, & \phi_m - \phi_{m-1} < -\pi \\
\phi_m, & \text{otherwise}
\end{cases}
$$

- çµåˆæ­¤é ç¬¬ä¸€å¼ï¼š$\phi_{b,m} = \frac{4\pi}{\lambda}[A_{hr}\sin(2\pi f_{hr}t)+A_{rr}\sin(2\pi f_{rr}t)]$
- æ­¤æ™‚çš„$\phi_{b,m}$ç‚ºèƒ¸å£é€ æˆçš„ç›¸ä½å·®ï¼Œå…¶åŒ…å«äº†å‘¼å¸åŠå¿ƒçŽ‡å…©ç¨®ç›¸ä½ã€‚

---

## ç›¸ä½åˆ†é›¢

- ä¸²è¯å…©å€‹é›™äºŒéšŽçš„ IIR æ¿¾æ³¢å™¨ï¼Œæ¯å€‹é›™äºŒéšŽçš„ IIR æ¿¾æ³¢å™¨çš„çµæ§‹ç‚ºç›´æŽ¥ II éšŽåž‹(Direct-form II)ï¼Œå…¶å·®åˆ†æ–¹ç¨‹å¦‚ä¸‹:
$$y[n] = b_0\omega[n]+b_1\omega[n-1]+b_2\omega[n-2]$$
$$\text{where}\ \  \omega[n] = x[n]-a_1\omega[n-1]-a_2\omega[n-2]$$

- å°‡æˆªæ­¢é »çŽ‡è¨­å®šç‚ºé »çŽ‡$(0.1-0.6\text{Hz})$è¼ƒç¬¦åˆäººé«”å‘¼å¸çš„åˆç†ç¯„åœé »çŽ‡ï¼Œå‰‡å¯å¾—åˆ°å‘¼å¸ç›¸ä½$\Phi_{rr,m}$;åŒç†ï¼Œä¹Ÿèƒ½å°‡æˆªæ­¢é »çŽ‡è¨­å®šç‚ºé »çŽ‡$(0.8-2\text{Hz})$è¼ƒç¬¦åˆäººé«”å¿ƒè·³çš„åˆç†ç¯„åœé »çŽ‡ï¼Œä¹Ÿèƒ½å¾—åˆ°å¿ƒçŽ‡ç›¸ä½$\Phi_{hr,m}$

---

## å¾ªç’°æš«å­˜å™¨

- è’é›†ä¸€æ®µæ™‚é–“çš„$\Phi_{rr,m}$ï¼Œä¸¦æ”¾å…¥é•·åº¦ç‚ºð¿çš„å¾ªç’°æš«å­˜å™¨(Circular Buffer)å…§ï¼Œç¢ºä¿æ¯æ¬¡å–æ¨£çš†èƒ½æ›´æ–°å‘¼å¸çŽ‡ã€‚
- å°‡å¾ªç’°æš«å­˜å™¨å…§æ‰€æœ‰ç›¸ä½åš$L$é»žçš„ FFT å³å¯å¾—åˆ°å‘¼å¸é »çŽ‡$f_{rr}$ï¼Œå…¶è¡¨ç¤ºå¦‚ä¸‹:
$$\Phi_{m, rr}[l] = \sum^{L-1}_{n=0}\Phi[n]e^{-j\frac{2\pi ml}{L}}, l = 0, ..., L-1$$
$$f_{rr} = arc_l\max|\Phi_{m, rr}[l]|\cdot\frac{1}{T_sL}$$

- åœ¨å¿ƒçŽ‡ä¼°è¨ˆä¸Šï¼Œå‰‡åŒç†å‘¼å¸çŽ‡
